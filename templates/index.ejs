<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    

    .mainsection {
        width: 100vw;
        max-height: 80vh;
    }

    .carousel-item img {
        width: 100%;
        height: 80vh;
        margin: auto;
        object-fit: cover;
        position: relative;
        z-index: -1;
    }

    .carousel-item::before {
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgb(0, 0, 0, 0.3);
        z-index: 10;
    }

    .check {
        width: 15vw;
        position: relative;
        padding: 15px !important;
    }

    .titleinfo {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        color: white;
        font-size: 7rem;
        z-index: 100;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        user-select: none;
    }

    .ctrl-btn {
        z-index: 10000;
    }


    #about {
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 20px;
        align-items: center;
    }

    .abt-section {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }



    .aboutinfo {
        width: 40%;
    }

    .aboutvideo {
        width: 40%;
    }
    .aboutvideo iframe{
        width: 100%;
    }

    .infod {
        margin: 20px;
        font-size: 20px;
        display: flex;
        justify-content: center;
    }

    .form {
        width: 60%;
        margin: 10px auto 0px auto;
        min-height: 450px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
    }

    .input {
        width: 80%;
        padding: 12px;
        margin: 10px auto;
        text-align: center;
        font-size: 17px;
    }

    .button {
        width: 25%;
        padding: 10px !important;
    }

    .button:hover {
        color: rgb(255, 255, 255);
        background: transparent;

        border: 2px solid rgb(255, 255, 255);
    }

    .text {
        padding: 15px;
    }

    .input {
        border: unset;
        background: #e8f0fe;

    }

    .input::placeholder {
        color: black;
    }

    .input::-ms-input-placeholder {
        color: black;
    }

    .input:-ms-input-placeholder {
        color: black;
    }

    .image {
        height: 300px;
    }

    #contact {
        text-align: center;
        background: url("/images/contact-us-bg.jpg") no-repeat center center/cover rgba(0, 0, 0, 0.44);
        background-blend-mode: multiply;
        background-attachment: fixed;
    }

    .heading {
        margin-top: 40px !important;
    }

    .counter {
        display: flex;
        width: 100%;
        background-color: #007bff;
        justify-content: space-evenly;
        align-items: center;
        min-height: 200px;
        flex-wrap: wrap;
    }

    .counter-1 span,
    .counter h1 {
        color: white !important;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .counter-1 span {
        font-size: 25px;
    }

    .counter-1 {
        width: 20%;
        text-align: center;
        margin: 10px;
        padding: 5px;
    }

    .counter-style {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    /* max width 900px */
    @media only screen and (max-width:900px) {
        .about-section {
            flex-direction: column;
        }
        .aboutinfo{
            width: 90%;
        }
        .aboutvideo{
            width: 90%;
        }
        .titleinfo{
            font-size: 5rem;
        }
        .check {
            width: 30vw;
        }
        .counter-style, .counter-1 span{
            flex-direction: row;
        }
        .counter-1{
            width: 100%;
        }
        .form {
            width: 95%;
            
        }
    }
    @media only screen and (max-width: 500px) {
        .titleinfo{
            font-size: 3rem;
        }
        .aboutinfo {
            font-size: small;
        }
        .check {
            width: 50vw;
        }
    }
</style>

<body>

    <%- include("partials/navbar.ejs") %>


        <div class="mainsecion">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <div class="titleinfo">LastWave
                    <a class=" checkup-btn" href="/checkup"><button class="btn check">CheckUp</button></a>
                </div>

                <div class="carousel-inner">

                    <div class="carousel-item active ">
                        <img class="d-block w-100" src="/images/1.jpg" alt="First slide">
                    </div>
                    <div class="carousel-item ">
                        <img class="d-block"
                            src="/images/2.jpg"
                            alt="Third slide">
                    </div>
                    <div class="carousel-item ">
                        <img class="d-block w-100"
                            src="/images/3.jpg"
                            alt="First slide">
                    </div>
                    <div class="carousel-item ">
                        <img class="d-block w-100"
                            src="/images/4.webp"
                            alt="First slide">
                    </div>


                </div>
                <a class="carousel-control-prev ctrl-btn" href="#carouselExampleIndicators" role="button"
                    data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next ctrl-btn" href="#carouselExampleIndicators" role="button"
                    data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>

        <div id="about">
            <h1 class="heading">How to use</h1>
            <div class="abt-section">
                <div class="aboutinfo infod">
                    <ul>
                        <li>First Login</li>
                        <li>Then Proceed for checkup</li>
                        <li>Please Follow our video guide for eye check-up</li>
                        <li>You can view all your past records of eye-checkup</li>
                        
                        <br>
                        <li>For These Steps Please Consider the video</li>
                        <li>First of all you have to calibrate your distance</li>
                        <li>Once Calibrated proceed for futher checkup</li>
                        <li>Adjust the font-size according to your capacity <b>NOTE: if you want to save the record you have to check your both eyes</b> </li>
                        
                        
                    </ul>
                </div>
                <div class="aboutvideo infod">
                    <iframe  height="400" src="https://www.youtube.com/embed/7y_3fqwbbdc" title="LastWave (FROSTHACK XPECTO 23)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
            </div>
        </div>

        <div id="contact">
            <br>
            <h1 class="heading" style="color:white">Contact Us</h1>

            <form class="form" action="/send">

                <input class="input" type="text" name="name" required placeholder="Name" />

                <input class="input" type="text" name="email" required placeholder="E-mail" />
                <div class="email error"></div>

                <input class="input" type="text" name="subject" placeholder="Subject" />

                <textarea class="text input" name="body" id="" rows="5" required
                    placeholder="Write your query here!"></textarea>

                <button class="btn button">Contact</button>
            </form>

        </div>

        <div class="counter">
            <div class="client counter-1 ">
                <div class="counter-style">
                    <h1 data-val="10" class="counter-val"></h1>
                    <h1>M+</h1>
                </div>
                <span>Clients</span>
            </div>
            <div class="content counter-1 ">
                <div class="counter-style">
                    <h1 data-val="50" class="counter-val"></h1>
                    <h1>K+</h1>
                </div>
                <span>Daily Traffic</span>
            </div>
            <div class="word counter-1 ">
                <div class="counter-style">
                    <h1 data-val="100" class="counter-val"></h1>
                    <h1>L+</h1>
                </div>
                <span>Test Done</span>
            </div>
        </div>




        <%- include("partials/footer.ejs") %>

            <script>

                let observer = new IntersectionObserver((entries) => {
                    entries.forEach((element) => {
                        if (element.isIntersecting) {
                            $(element.target).prop('Counter-1', 0).animate({
                                Counter: $(element.target).data('val')
                            }, {
                                duration: 2500,
                                easing: 'swing',
                                step: function (now) {
                                    $(element.target).text(Math.ceil(now));
                                }
                            });
                        }
                        else {
                            $(element.target).stop();
                        }
                    })
                });

                const box = document.getElementsByClassName('counter-val');
                for (let i = 0; i < box.length; i++) {
                    observer.observe(box[i])
                }


                const form = document.querySelector('form');

                form.addEventListener("submit", async (e) => {
                    e.preventDefault();

                    const name = form.name.value;
                    const email = form.email.value;
                    const subject = form.subject.value;
                    const body = form.body.value;

                    const res = await fetch(("/send"), {
                        method: "POST",
                        body: JSON.stringify({ name, email, subject, body }),
                        headers: { 'Content-Type': "application/json" }
                    })

                    let data = await res.json();
                    data = JSON.parse(data)
                    if (data.bool) {
                        location.assign('/');
                    }
                    else {
                        alert("Something went wrong")
                    }
                })
            </script>
</body>

</html>